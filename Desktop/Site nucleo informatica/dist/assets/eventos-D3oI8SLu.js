import"./styles-B6oyGrHu.js";import{e as u}from"./events-B8vInDrQ.js";const p=document.querySelector(".menu-toggle"),C=document.querySelector(".site-nav");p.addEventListener("click",()=>{const e=C.classList.toggle("open");p.setAttribute("aria-expanded",e?"true":"false")});const g=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&n.target.classList.add("reveal")})},{threshold:.15});document.querySelectorAll(".reveal-on-scroll").forEach(e=>g.observe(e));function E(e){return[...e].sort((n,s)=>new Date(n.date)-new Date(s.date))}function y(e){return new Date(e).toLocaleDateString("pt-PT",{day:"2-digit",month:"short",year:"numeric"})}function v(e,n){const s=document.getElementById("eventos-lista");s.innerHTML="",E(e.filter(a=>a.id!==n)).forEach(a=>{const o=document.createElement("article");o.className="news-card reveal-on-scroll";const i=document.createElement("img");i.className="news-cover",i.src=a.cover,i.alt=a.title,i.loading="lazy";const c=document.createElement("div");c.className="news-body";const r=document.createElement("h3");r.className="news-title",r.textContent=a.title;const d=document.createElement("div");d.className="news-meta",d.textContent=`${y(a.date)} · ${a.location}`;const t=document.createElement("p");t.textContent=a.desc;const m=document.createElement("div");m.className="news-actions";const l=document.createElement("a");l.href=`?id=${a.id}`,l.className="btn small",l.textContent="Ver detalhes",m.appendChild(l),c.appendChild(r),c.appendChild(d),c.appendChild(t),c.appendChild(m),o.appendChild(i),o.appendChild(c),s.appendChild(o),g.observe(o)})}function b(e){const n=document.getElementById("evento-detalhe");if(n.innerHTML="",!e)return;const s=document.createElement("div");s.className="card";const a=document.createElement("img");a.className="news-cover",a.src=e.cover,a.alt=e.title,a.loading="lazy";const o=document.createElement("div");o.className="news-body";const i=document.createElement("h2");i.className="section-title",i.textContent=e.title;const c=document.createElement("div");c.className="news-meta",c.textContent=`${y(e.date)} · ${e.location}`;const r=document.createElement("p");r.textContent=e.desc;const d=document.createElement("div");d.className="news-actions";const t=document.createElement("a");t.href="./index.html#noticias",t.className="btn small",t.textContent="Voltar às notícias",d.appendChild(t),o.appendChild(i),o.appendChild(c),o.appendChild(r),o.appendChild(d),s.appendChild(a),s.appendChild(o),n.appendChild(s)}function N(){return new URLSearchParams(window.location.search).get("id")}function M(){const e=N(),n=u.find(s=>s.id===e);b(n),v(u,e)}M();function L(){const e=document.getElementById("bg-canvas");if(!e)return;const n=e.getContext("2d"),s=Math.max(1,window.devicePixelRatio||1);let a,o;function i(){a=window.innerWidth,o=window.innerHeight,e.width=a*s,e.height=o*s,n.setTransform(s,0,0,s,0,0)}i(),window.addEventListener("resize",i);const c=Array.from({length:90},()=>({x:Math.random()*a,y:Math.random()*o,vx:(Math.random()-.5)*.8,vy:(Math.random()-.5)*.8,r:3+Math.random()*2,hue:180+Math.random()*180}));function r(){n.clearRect(0,0,a,o);for(let d=0;d<c.length;d++){const t=c[d];t.x+=t.vx,t.y+=t.vy,(t.x<-50||t.x>a+50)&&(t.vx*=-1),(t.y<-50||t.y>o+50)&&(t.vy*=-1),n.beginPath(),n.fillStyle=`hsla(${t.hue}, 90%, 65%, 0.95)`,n.arc(t.x,t.y,t.r,0,Math.PI*2),n.fill()}for(let d=0;d<c.length;d++)for(let t=d+1;t<c.length;t++){const m=c[d],l=c[t],f=m.x-l.x,w=m.y-l.y,h=Math.hypot(f,w);if(h<140){const x=.1+(140-h)/140*.2;n.strokeStyle=`rgba(255,255,255,${x})`,n.beginPath(),n.moveTo(m.x,m.y),n.lineTo(l.x,l.y),n.stroke()}}requestAnimationFrame(r)}r()}L();
