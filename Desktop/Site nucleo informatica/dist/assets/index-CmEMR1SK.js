import"./styles-B6oyGrHu.js";import{e as h}from"./events-B8vInDrQ.js";const p=document.querySelector(".menu-toggle"),y=document.querySelector(".site-nav"),v=document.querySelectorAll(".site-nav a");function L(){const e=y.classList.toggle("open");p.setAttribute("aria-expanded",e?"true":"false")}p.addEventListener("click",L);v.forEach(e=>e.addEventListener("click",()=>y.classList.remove("open")));const w=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.target.classList.add("reveal")})},{threshold:.15});document.querySelectorAll(".reveal-on-scroll").forEach(e=>w.observe(e));function M(e){return[...e].sort((t,c)=>new Date(t.date)-new Date(c.date))}function A(e){return new Date(e).toLocaleDateString("pt-PT",{day:"2-digit",month:"short",year:"numeric"})}function f(e){const t=document.getElementById("news-list");t.innerHTML="",M(e).forEach(o=>{const a=document.createElement("article");a.className="news-card reveal-on-scroll";const i=document.createElement("img");i.className="news-cover",i.src=o.cover,i.alt=o.title,i.loading="lazy";const s=document.createElement("div");s.className="news-body";const m=document.createElement("h3");m.className="news-title",m.textContent=o.title;const r=document.createElement("div");r.className="news-meta",r.textContent=`${A(o.date)} Â· ${o.location}`;const n=document.createElement("p");n.textContent=o.desc;const l=document.createElement("div");l.className="news-actions";const d=document.createElement("a");d.href=`/eventos.html?id=${o.id}`,d.className="btn small",d.textContent="Saber mais",l.appendChild(d),s.appendChild(m),s.appendChild(r),s.appendChild(n),s.appendChild(l),a.appendChild(i),a.appendChild(s),t.appendChild(a),w.observe(a)})}f(h);document.getElementById("filter-all").addEventListener("click",()=>f(h));document.getElementById("filter-soon").addEventListener("click",()=>{const e=h.filter(t=>(new Date(t.date)-new Date)/(1e3*60*60*24)<=30);f(e.length?e:h)});const E=["quem","fazemos","noticias","contactos"],u=E.map(e=>document.getElementById(e));window.addEventListener("scroll",()=>{const e=window.scrollY+90;let t="";u.forEach((c,o)=>{const a=c.offsetTop,i=o<u.length-1?u[o+1].offsetTop:Number.MAX_VALUE;e>=a&&e<i&&(t="#"+E[o])}),v.forEach(c=>{const o=c.getAttribute("href")===t;c.style.fontWeight=o?"700":"400"})});function N(){const e=document.getElementById("bg-canvas");if(!e)return;const t=e.getContext("2d"),c=Math.max(1,window.devicePixelRatio||1);let o,a;function i(){o=window.innerWidth,a=window.innerHeight,e.width=o*c,e.height=a*c,t.setTransform(c,0,0,c,0,0)}i(),window.addEventListener("resize",i);const s=Array.from({length:90},()=>({x:Math.random()*o,y:Math.random()*a,vx:(Math.random()-.5)*.8,vy:(Math.random()-.5)*.8,r:3+Math.random()*2,hue:180+Math.random()*180}));function m(){t.clearRect(0,0,o,a);for(let r=0;r<s.length;r++){const n=s[r];n.x+=n.vx,n.y+=n.vy,(n.x<-50||n.x>o+50)&&(n.vx*=-1),(n.y<-50||n.y>a+50)&&(n.vy*=-1),t.beginPath(),t.fillStyle=`hsla(${n.hue}, 90%, 65%, 0.95)`,t.arc(n.x,n.y,n.r,0,Math.PI*2),t.fill()}for(let r=0;r<s.length;r++)for(let n=r+1;n<s.length;n++){const l=s[r],d=s[n],x=l.x-d.x,b=l.y-d.y,g=Math.hypot(x,b);if(g<140){const C=.1+(140-g)/140*.2;t.strokeStyle=`rgba(255,255,255,${C})`,t.beginPath(),t.moveTo(l.x,l.y),t.lineTo(d.x,d.y),t.stroke()}}requestAnimationFrame(m)}m()}N();
